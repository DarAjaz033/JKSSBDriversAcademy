import{o as n}from"./auth-service-CzQAHVFu.js";class o{constructor(){this.state={currentPage:"home",previousPage:null},this.carouselInterval=null,this.currentSlide=0,this.totalSlides=4,this.testimonialInterval=null,this.currentTestimonial=0,this.totalTestimonials=3,this.isSignUpMode=!1,this.currentAuthMethod="email",this.init()}init(){this.setupNavigation(),this.setupPageTitle(),this.addEventListeners(),this.initCarousel(),this.initTestimonialCarousel(),this.setupFAQ(),this.updateCopyrightYear(),this.setupAuth()}updateCopyrightYear(){const e=document.getElementById("copyright-year");e&&(e.textContent=new Date().getFullYear().toString())}initCarousel(){this.startCarousel(),this.setupCarouselIndicators()}startCarousel(){this.carouselInterval=window.setInterval(()=>{this.nextSlide()},5e3)}stopCarousel(){this.carouselInterval&&(clearInterval(this.carouselInterval),this.carouselInterval=null)}nextSlide(){this.currentSlide=(this.currentSlide+1)%this.totalSlides,this.updateSlides()}goToSlide(e){this.currentSlide=e,this.updateSlides(),this.stopCarousel(),this.startCarousel()}updateSlides(){const e=document.querySelectorAll(".hero-slide"),t=document.querySelectorAll(".indicator");e.forEach((i,s)=>{i.classList.toggle("active",s===this.currentSlide)}),t.forEach((i,s)=>{i.classList.toggle("active",s===this.currentSlide)})}setupCarouselIndicators(){document.querySelectorAll(".hero-carousel .indicator").forEach((t,i)=>{t.addEventListener("click",()=>{this.goToSlide(i)})})}initTestimonialCarousel(){this.startTestimonialCarousel(),this.setupTestimonialIndicators()}startTestimonialCarousel(){this.testimonialInterval=window.setInterval(()=>{this.nextTestimonial()},4e3)}stopTestimonialCarousel(){this.testimonialInterval&&(clearInterval(this.testimonialInterval),this.testimonialInterval=null)}nextTestimonial(){this.currentTestimonial=(this.currentTestimonial+1)%this.totalTestimonials,this.updateTestimonials()}goToTestimonial(e){this.currentTestimonial=e,this.updateTestimonials(),this.stopTestimonialCarousel(),this.startTestimonialCarousel()}updateTestimonials(){const e=document.querySelectorAll(".testimonial-card"),t=document.querySelectorAll(".testimonial-carousel .indicator");e.forEach((i,s)=>{i.classList.toggle("active",s===this.currentTestimonial)}),t.forEach((i,s)=>{i.classList.toggle("active",s===this.currentTestimonial)})}setupTestimonialIndicators(){document.querySelectorAll(".testimonial-carousel .indicator").forEach((t,i)=>{t.addEventListener("click",()=>{this.goToTestimonial(i)})})}setupFAQ(){document.querySelectorAll(".faq-item").forEach(t=>{const i=t.querySelector(".faq-question");i&&i.addEventListener("click",()=>{t.classList.contains("active")?t.classList.remove("active"):t.classList.add("active")})})}setupNavigation(){document.querySelectorAll(".nav-btn").forEach(t=>{t.addEventListener("click",()=>{const i=t.dataset.page;i&&this.navigateToPage(i)})})}navigateToPage(e){if(e===this.state.currentPage)return;const t=document.querySelector(".page.active"),i=document.querySelector(`.page[data-page="${e}"]`),s=document.querySelectorAll(".nav-btn");i&&(this.state.previousPage=this.state.currentPage,this.state.currentPage=e,t&&t.classList.remove("active"),i.classList.add("active"),s.forEach(a=>{a.classList.toggle("active",a.dataset.page===e)}),this.updatePageTitle(e),i.scrollTo(0,0))}updatePageTitle(e){const t=document.getElementById("page-title");if(!t)return;const i={home:"JKSSB Academy",courses:"Courses",learning:"My Learning",more:"More"};t.textContent=i[e]||"JKSSB Academy"}setupPageTitle(){this.updatePageTitle(this.state.currentPage)}addEventListeners(){document.querySelectorAll("[data-navigate]").forEach(i=>{i.addEventListener("click",()=>{const s=i.dataset.navigate;s&&this.navigateToPage(s)})});const t=document.getElementById("profile-btn");t&&t.addEventListener("click",()=>{this.showProfileMenu()}),this.setupSmoothScroll()}showProfileMenu(){window.location.href="./profile.html"}setupSmoothScroll(){document.querySelectorAll(".page").forEach(t=>{t.style.scrollBehavior="smooth"})}setupAuth(){n(e=>{const t=document.getElementById("profile-btn");t&&e&&e.photoURL&&(t.querySelector("img")||(t.innerHTML=`<img src="${e.photoURL}" alt="Profile" style="width:28px;height:28px;border-radius:50%;object-fit:cover;border:2px solid #B45309;">`))})}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{new o}):new o;
