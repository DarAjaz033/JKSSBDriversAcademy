import"./firebase-config-CsUtaHqz.js";/* empty css               */import{o as c}from"./auth-service-BYs2Equ7.js";import{i as l,g as m,b as p,f as d,j as g}from"./admin-service-WdanE3z8.js";class f{constructor(){this.init(),this.checkToasts()}checkToasts(){const e=sessionStorage.getItem("app_toast_msg"),o=sessionStorage.getItem("app_toast_type")||"info";e&&(setTimeout(()=>this.showToast(e,o),500),sessionStorage.removeItem("app_toast_msg"),sessionStorage.removeItem("app_toast_type"))}showToast(e,o="info"){let s=document.getElementById("toast-container");s||(s=document.createElement("div"),s.id="toast-container",Object.assign(s.style,{position:"fixed",bottom:"24px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",gap:"8px",zIndex:"999999",pointerEvents:"none",width:"max-content",maxWidth:"90vw"}),document.body.appendChild(s));const t=document.createElement("div");Object.assign(t.style,{padding:"12px 24px",borderRadius:"8px",color:"#fff",fontSize:"14px",fontWeight:"500",fontFamily:"'Poppins', sans-serif",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",display:"flex",alignItems:"center",gap:"8px",opacity:"0",transform:"translateY(20px)",transition:"all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)"});const n={success:"#10b981",error:"#ef4444",info:"#3b82f6",warning:"#f59e0b"};t.style.background=n[o]||n.info,t.textContent=e,s.appendChild(t),requestAnimationFrame(()=>{t.style.opacity="1",t.style.transform="translateY(0)"}),setTimeout(()=>{t.style.opacity="0",t.style.transform="translateY(-10px)",setTimeout(()=>t.remove(),300)},3e3)}async init(){c(async e=>{if(!e){window.location.href="./admin-login.html";return}if(!await l(e)){window.location.href="./admin-login.html";return}await this.loadStats()},!0)}async loadStats(){var n,a,i,r;const e=await m(),o=await p(),s=await d(),t=await g();e.success&&(document.getElementById("total-courses").textContent=((n=e.courses)==null?void 0:n.length.toString())||"0"),o.success&&(document.getElementById("total-pdfs").textContent=((a=o.pdfs)==null?void 0:a.length.toString())||"0"),s.success&&(document.getElementById("total-tests").textContent=((i=s.tests)==null?void 0:i.length.toString())||"0"),t.success&&(document.getElementById("total-purchases").textContent=((r=t.purchases)==null?void 0:r.length.toString())||"0")}}new f;
